<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="stylesheet" href="../../assets/css/edit.css">
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>
<body>
    <header>
        <div class="header">
            <div id="container">
                <nav>
                    <ul>
                        <div class="magic">
                            <li><a href="../../pages/homepage/rent.html"><img src="../../assets/images/Screenshot__17_-removebg-preview.png" alt="photo" height="60px" width="100%"></a></li>
                        </div>
                          <li><a href="../../pages/homepage/my profile.html">Profile</a></li>
                        
                        <li><a href="../../pages/homepage/Add pgs.html">Add pg</a></li>
                        <li><a href="../../pages/homepage/rent.html">Reviews</a></li>
                                    
                                    <i class="fa fa-user" style="font-size:36px;color:white"></i>
                            
                          </ul>
                                
                      
            </nav>
            </div>
           

        </div>
    </header>
    <form class="edit" onsubmit="update(event)">
    <div class="main">
    <div class="content">
        <div class="avathar">
            <img src="../../assets/images/avathar.jpg" alt="Avathar" class="avathar">
          </div>
        
        <div class="details">
            <label for="name"><b> Name :</b></label>
            <input type="text"  name="fname" pattern="[a-z]+" id="name" required><br><br>
            
            
            <label for="phone"><b>phone_number :</b></label>
            <input type="text" name="tel"pattern="[0-9].{9}" id="phone_number" required disabled> <br> <br>  
        
            <label for="email"><b>E-mail :</b></label>
            <input type="text"  name="email"   pattern="^([a-zA-Z0-9_\-\.]+)@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.)|(([a-zA-Z0-9\-]+\.)+))([a-zA-Z]{2,4}|[0-9]{1,3})(\]?)$" id="email" required disabled><br><br>
        
      <label for="address"> <b>Address:</b></label><br>
     <textarea id="address"></textarea  > <br> <br>
     </div>
        </div>
    
           
        <button type="submit"  >submit</button>
        

            
            </div>
        </form>
    

    <script>
        // localStorage.getItem("key")
        // const user_first_name = localStorage.getItem("user_name");
        // console.log();
        // documnet.getElementById("user_name").innerText =  user_first_name;
       
        let userId = JSON.parse(localStorage.getItem('userId'));
    let user_cred = JSON.parse(localStorage.getItem('user_cred'));

    console.log(user_cred);

    function login_data(e){
      return e.email == userId;
    }

    user_data = user_cred.find(login_data);

    console.log(user_data);

    document.getElementById("name").value = user_data["name"];
    document.getElementById("phone_number").value = user_data["phone_number"];
    document.getElementById("email").value = user_data["email"];
    document.getElementById("address").value = user_data["address"];

    function update(e){

        e.preventDefault();

        let up_name = document.getElementById("name").value
        let up_address = document.getElementById("address").value

        user_data["name"] = up_name;
        user_data["address"] = up_address;

        localStorage.setItem("user_cred", JSON.stringify(user_cred));

        window.location.href="./my profile.html"



    }



    </script>
    
        
</body>
</html>