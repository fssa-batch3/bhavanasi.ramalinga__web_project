<!DOCTYPE html>
<html lang="en">
<head>
  
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
    <link rel="stylesheet" href="../../assets/css/resister.css">
    <link rel="main page" href="file:///C:/Users/BhavanasiSoundarya/Desktop/hundred%20day%20project/hundred%20day%20project/main%20page.html#">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet">

</head>
<body>


<form role="form" onsubmit="signUp(event)">
        <div class="container">
        <h1>Register</h1>
        <p>Please fill in this form to create an account.</p>
        <hr>
    
        <label for="name"><b>First Name</b></label>
        <input type="text" placeholder="First name" name="name" pattern="[a-z]+"id="name" required>
        
        
        <label for="phone"><b>phone_number</b></label>
        <input type="text" placeholder="phone_number" name="tel"pattern="[0-9].{9}" id="phone_number" required>    
    
        <label for="email"><b>Email</b></label>
        <input type="text" placeholder="Enter Email" name="email"   pattern="^([a-zA-Z0-9_\-\.]+)@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.)|(([a-zA-Z0-9\-]+\.)+))([a-zA-Z]{2,4}|[0-9]{1,3})(\]?)$" id="email" required>
    
        <label for="psw"><b>Password</b></label>
        <input type="password" placeholder="Enter Password" name="psw" pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}+" id="psw" required>
    
        <label for="psw-repeat"><b>Repeat Password</b></label>
        <input type="password" placeholder="Repeat Password" name="psw"  id="repeat" required>
        
        <label for="option"><b>Tenant/seller</b></label>
        <input type="text" placeholder="" name="option"  id="tenant" required>
    <!-- <select id="options">
        <option value="option">pg owner</option>
        <option value="buyer">Tenant</option>
    </select>
        <hr>
        <p>By creating an account you agree to our <a href="#">Terms & Privacy</a>.</p> -->
    
        <button type="submit" class="registerbtn">Register</button>
        
  </div>
    
</form>
    
    

       <!-- <button type="button" onclick="register()" required>register</button> -->
       
       
  </div>
  
  
</form>

 <script >

const signUp = e => {
  e.preventDefault();
            let email = document.getElementById("email").value;
            repeat = document.getElementById("repeat").value;
              psw = document.getElementById("psw").value;
             name = document.getElementById("name").value;
             phone_number = document.getElementById("phone_number").value;

          

      function confirmform(){
        if(psw != repeat){
              alert ('Password not Matched');
              repeat.value=reset();
            }
            else{
              alert("password matched");
            } 
        }  
      confirmform();

            let user_cred = JSON.parse(localStorage.getItem('user_cred')) || [];

            let exist = user_cred.length &&
                JSON.parse(localStorage.getItem('user_cred')).some(data =>
                    data.email.toLowerCase() == email.toLowerCase() ||
                    data.phone_number.toLowerCase() == phone_number.toLowerCase()
                );

            if(!exist){
                user_cred.push({name,email,repeat,psw,phone_number});

                localStorage.setItem('user_cred',JSON.stringify(user_cred));

                console.log(localStorage.getItem('user_cred'));

                document.querySelector('form').reset();
                document.getElementById('email').focus();
                document.getElementById('phone_number').focus();
                
                alert('Account created successfully');
                location.href = "../../pages/homepage/login.html";
            }
            else {
                alert('Sorry the User already exists! \n Try with a new Email or Phone Number.');
                document.querySelector('form').reset();
            }
             
           
          }

  
//   function register(){
// users = JSON.parse(localStorage.getItem('users')) || [];
//  name = document.getElementById("name").value
// last = document.getElementById("last").value
//  email = document.getElementById("email").value
// psw = document.getElementById("psw").value
// phone_number = document.getElementById("phone_number").value;
// repeat = document.getElementById("repeat").value
// users.push({name,last,email,psw,repeat});
// localStorage.setItem("users",JSON.stringify(users));
// // alert("registered successfully ");
// // window.location.href = "../../pages/other pages/login.html"
// let pswexpression = /^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#?!@$%^&*-])/;
//             let letters = /^[A-Za-z]+$/;
//             // let email = /^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/;
            
            
             if(psw != repeat)
            {
                alert ('Password not Matched');
            }
            
             
//             let stored_users = JSON.parse(localStorage.getItem('users'));
//             if (stored_users) {
//                 stored_users.push ( { name: name, phone_number: phone_number, psw: psw, last:last, email:email,repeat:repeat } );
//                 localStorage.setItem('users', JSON.stringify(stored_users));
//             }
            // else {
            //     localStorage.setItem('users', JSON.stringify([{name: name, phone_number: phone_number, psw: psw, last:last, email:email,repeat:repeat}]));
            // }
//   if(psw === repeat){
//   alert("registered successfully ");

// }
// else{
//   alert("Passwords did not match");
// }
// window.location.href = "./login.html"

// }
 
  // let user_data = localStorage.getItem("users");
  // let users = user_data ? JSON.parse(user_data): [];
  // function register(){
  // let name = document.getElementById("name").value
  // let last = document.getElementById("last").value
  // let email = document.getElementById("email").value
  // let psw = document.getElementById("psw").value
  // let repeat = document.getElementById("repeat").value

  //  users.push({name,last,email,psw,repeat});
  //  localStorage.setItem("users",JSON.stringify(users));
  
  //  alert("register sucessfully ")
  //  window.location.href = "./login.html"
 

  // }



      // <!-- function store(){

      //   let firstname = document.getElementById('name').value;
      //   let lastname = document.getElementById('last').value;
      //   let password = document.getElementById('psw');
      //   let phonenumber = document.getElementById('phone_number').value;
      //   let email = document.getElementById('email').value;
      //   let repeat = document.getElementById('repeat').value;


      //   localStorage.setItem('firstname', name.value);
      //   localStorage.setItem('lastname', last.value);
      //   localStorage.setItem('password', psw.value);
      //   localStorage.setItem('phonenumber', phone_number.value);
      //   localStorage.setItem('email', email.value);
      //   localStorage.setItem('repeat', repeat.value);


      //   let stored_users = JSON.parse(localStorage.getItem('userws'));

      //   if(stored_users) {
      //     stored_users.push({name: firstname, last: lastname, psw: password, phone_number: phonenumber, email: email, repeat: repeat});
      //     localStorage.setItem('users', JSON.stringify(stored_users));
      //   }
      //   else{
      //     localStorage.setItem('users', JSON.stringify([{name: firstname, last: lastname, psw: password, phone_number: phonenumber, email: email, repeat: repeat}]))
      //   }


      //   window.location.href = "../homepage/login.html"

      // } --> -->

    






</script>
</body>
</html>
