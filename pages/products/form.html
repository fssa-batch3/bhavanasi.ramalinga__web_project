<!DOCTYPE html>
<html lang="en">

<head>
    <link rel="stylesheet" href="../../assets/css/form.css">
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
   
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <title>Form</title>
    <script src="https://cdn.jsdelivr.net/npm/uuid@8.3.2/dist/umd/uuidv4.min.js"></script>
</head>

<body>

    <div class="information">
        <div class="image">
            <div class="more">
                <h1>post property Add to Sell or rent online for free!</h1>

                <i class="fa fa-check-circle-o" style="font-size:20px; color:green"></i>
                <b> Free professional photoshot</b><br>
                <i class="fa fa-check-circle-o" style="font-size:20px; color:green"> </i>
                <b> Access to 15 Lac Buyers & Tenants</b><br>
                <i class="fa fa-check-circle-o" style="font-size:20px; color:green"> </i>
                <b>Get Contact Details of upto 5 Responses</b>
            </div>
            <div class="image">
                <img src="../../assets/images/seller-removebg-preview.png" alt="photo" />
            </div>
        </div>
        <form role="form" onsubmit="signUp(event)">

            <div class="container">
                <label for="name"><b> pg_Name</b></label>
                <input type="text" placeholder="pg_name" pattern="^(?!\s)[a-zA-Z\s]+$" name="fname" id="name"
                    required><br><br>


                <label for="type"><b>Rooms categories are available and rent</b></label><br><br>

                <label for="sharing" id="singleshare"> single sharing </label><input placeholder="rent" id="onesharing"
                    pattern="[0-9]+" required><br><br>


                <label for="sharing" id="twinshare">Twin sharing </label><input placeholder="rent" pattern="[0-9]+"
                    id="twosharing" required><br><br>


                <label for="sharing" id="tripleshare"> Triple sharing </label><input placeholder="rent" pattern="[0-9]+"
                    id="threesharing" required><br><br>


                <label for="sharing" id="fourshare"> Four sharing </label><input placeholder="rent" id="foursharing"
                    pattern="[0-9]+" required><br><br>


                <label for="number"><b>Deposited amount:</b></label>
                <input type="text" id="amount" name="number" pattern="[0-9]+" required><br><br>
                <label for="sharing"> Notice Period </label>
                <input type="text" id="period" placeholder="example 10 days" required><br><br>

                <label for="sharing">Closing Time:</label>
                <input type="text" id="time" pattern="^(0?[1-9]|1[0-2]):([0-5]\d) (AM|PM)$" required><br><br>

                <!-- 
      <label for="sharing"> Available For</label>
      <input  id="available" required><br><br> -->



                <label for="sharing"> Total Number of Beds </label>
                <input type="number" id="beds" required><br><br>

                <label for="image1"> Fecilities</label>
                <input type="url" id="image1" required></input><br><br>


                <label for="image"> Fecilities</label>
                <input type="url" id="image2" required></input><br><br>

                <label for="image"> Fecilities</label>
                <input type="url" id="lastimage" required></input><br><br>

                <label for="image"> Fecilities</label>
                <input type="url" id="image4" required></input><br><br>

                <label for="sharing"> Facilities </label>
                <input type="url" id="parking" required><br><br>



                <label for="sharing">Facilities </label>
                <input type="url" id="wifi" required><br><br>


                <label for="sharing"> Facilities</label>
                <input type="url" id="food" required><br><br>


                <label for="sharing"> Facilities</label>
                <input type="url" id="fridge" required><br><br>


                <label for="sharing"> Facilities</label>
                <input type="url" id="tv" required><br><br>

                <label for="pg_name"><b> Image</b></label>
                <input type="url" name="image" id="image" required><br><br>



                <label for="address"><b> Address</b></label><br>
                <textarea type="text" id="address" required></textarea><br>

                <label for="cars">Choose </label>
                <select name="available" id="available" required>
                    <option>Choose</option>
                    <option>Boys</option>
                    <option>Girls</option>
                    <option>Both for girls and boys</option>
                </select>

                <button type="submit" class="registerbtn">Submit</button><br>


            </div>
        </form>

        <script src="/assets/js/header.js"></script>


        <script>
            function signUp(e) {

                e.preventDefault();

                let name = document.getElementById("name").value;

                // one_share = document.getElementById("one_share").checked;
                // two_share = document.getElementById("two_share").checked;
                // three_share = document.getElementById("three_share").checked;
                // four_share = document.getElementById("four_share").checked;
                food = document.getElementById("food").value;

                parking = document.getElementById("parking").value;

                wifi = document.getElementById("wifi").value;

                tv = document.getElementById("tv").value;
                fridge = document.getElementById("fridge").value;
                // more images//
                image1 = document.getElementById("image1").value;
                image2 = document.getElementById("image2").value;
                lastimage = document.getElementById("lastimage").value;
                image4 = document.getElementById("image4").value;






                onesharing = document.getElementById("onesharing").value;
                twosharing = document.getElementById("twosharing").value;
                threesharing = document.getElementById("threesharing").value;
                foursharing = document.getElementById("foursharing").value;


                period = document.getElementById("period").value;

                available = document.getElementById("available").value;
                beds = document.getElementById("beds").value;
                time = document.getElementById("time").value;
                amount = document.getElementById("amount").value;

                image = document.getElementById("image").value;
                address = document.getElementById("address").value;
                let my_uuid = uuidv4();





                let users = JSON.parse(localStorage.getItem('users')) || [];

                if (available === "Choose") {
                    alert("Please select either Boys, Girls, or Both for girls and boys");
                    return false; 
                }
              
                    let exit = users.length &&
                        JSON.parse(localStorage.getItem('users')).some(data =>
                            data.name == name);

                    function login_data(e) {
                        return e.my_uuid == productId;
                    }



                    let owner_id = JSON.parse(localStorage.getItem('userId'));


                    if (!exit) {
                        users.push({
                            name,
                            "fecilities": { food, parking, wifi, tv, fridge },
                            period,
                            available,
                            beds,
                            amount,
                            time,
                            address,

                            "owner_id": owner_id,
                            "sharing": { onesharing, twosharing, threesharing, foursharing },
                            image,
                            my_uuid,
                            // singleshare,
                            // twinshare,
                            // tripleshare,
                            // fourshare,
                            "house_fecilities_image": { image1, image2, lastimage, image4 }
                        });


                        // let checked = JSON.parse (localStorage.getItem ('checkbox'));

                        // Working_days = [];
                        // working_days = document.querySelectorAll("input[type='checkbox']:checked");
                        // for (i = 0; i < working_days.length; i++) {
                        //     Working_days.push(working_days[i].value)
                        // }



                        localStorage.setItem('users', JSON.stringify(users));
                        console.log(localStorage.getItem('users'));
                        localStorage.setItem("productId", JSON.stringify(my_uuid));


                        document.querySelector('form').reset();


                        alert('Account created successfully');


                        location.href = "../products/seller_product.html";
                    }

                }



                // }
                // else{
                // alert("please select check boxes")
                // }
                //  if (checked == true) 
                //  { 
                //     document.getElementById ("checkbox").checked = true; 
                // }


            

        </script>
</body>

</html>